<div class="list">
  <!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.15" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <link rel='stylesheet' href='http://fonts.useso.com/css?family=Open+Sans|Marcellus+SC'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/tomorrow-night-eighties.css">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/custom.css">
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://simonpatrick.github.io//index.xml">

    
    <title>Posts - Colored Hedwig</title>
    <meta property='og:title' content="Posts - Colored Hedwig">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="http://simonpatrick.github.io/posts/">
    
    

  </head>

  <body>

    <header class="site">
      <div class="title"><a href="http://simonpatrick.github.io/">Colored Hedwig</a></div>
    </header>

    <div class="container site">

  <div class="row">
    <div class="col-sm-9">

      <header class="title"><h1>Posts</h1></header>

      <div class="articles">
        <div class="row">
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/designpattern/2015-10-22-Functional-Programming-pattern/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/12.jpg);"></div>
    <div class="detail">
      <time>Fri, Oct 23, 2015</time>
      <h2 class="title">Functional Patterns</h2>
      <div class="summary">记录一个关于函数式设计模式 Functional patterns Core Principles of FP design Functions Types Composition Functions as parameters Abstraction,Dependency injection Partial application, Continuations,Folds Chaining Functions Error handling, Async Monads Dealing with wrapped data Lifting,Functors Validation with applicatives Aggregating data and operations Monoids Functional programming is scary Functors applicatives currying catamorphism Monad Monoid chainable aggregatable mappable Object oriented programming is scary Generic Polymorphism Interface Inheritance SOLID: SRP,OCP,LSP,ISP,DIP,&hellip;&hellip; Covariance IOC,DI,MVC OO Patterns VS FP Patterns OO pattern/principle • Single Responsibility Principle • Open/Closed principle • Dependency Inversion Principle • Interface Segregation Principle • Factory pattern • Strategy pattern • Decorator pattern • Visitor pattern FP pattern/principle • Functions • Functions • Functions, also • Functions • Yes, functions • Oh my, functions again!</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/interview/2015-10-22-python_interview_questions/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/20.jpg);"></div>
    <div class="detail">
      <time>Thu, Oct 22, 2015</time>
      <h2 class="title">Python 面试题</h2>
      <div class="summary">测试有的时候出去会遇到一些编程面试题,以下是用python来解决两个简单面试题. 倒转字符串中的单词的排列 给定字符串“Hello World!”,经过一段程序运行之后,得到输出结果“World! Hello”,也就是以单词 为单位,倒转输入“Hello World!” python解法: 不考虑编码格式 words = &quot;Hello World!&quot; print(&quot; &quot;.join(reversed(words))) print(&quot; &quot;.join(words.split(&quot; &quot;)[::-1])) Java 解法 public class ReverseWords { public static String reverseWords(String input){ String[] words = input.split(&quot; &quot;); StringBuilder sb = new StringBuilder(); for (int i = words.length-1; i &gt;=0 ; i--) { sb.append(words[i]); sb.append(&quot; &quot;); } return sb.toString().trim(); } public static void main(String[] args) { System.out.println(reverseWords(&quot;Hello World!&quot;)); } } 输出斐波那契数列 根据给定的值,输出相同数目的斐波那契列， 如如果给定是1， 则输出1;给定2,输出1,1;</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/thoughts/2015-10-22-Random-TestCaseDesign/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/25.jpg);"></div>
    <div class="detail">
      <time>Thu, Oct 22, 2015</time>
      <h2 class="title">测试用例设计- 随机指定一个产品的测试</h2>
      <div class="summary">有时面试的时候会随机指定一个产品进行测试,比如一个电梯,你会如何设计测试用例？这个问题很发散,更多的是看应聘者的条理 和分析能力. 本质上一个电梯是一个太大的范畴，实际测试的过程中很少一下子会有这么巨大的功能让你测试的。 与其说让你设计测试用例，其实好不如说让你想一个电梯有什么功能,然后根据功能再来考虑测试用例,所以更多的 是考察思路,在实际的测试工作中,如果突然有个人说我今天完成了一个电梯的功能,找个人给我测一下吧。 那么多半这个项目就是个让测试欲哭无泪的项目。 不过既然面试有人问这样的问题，那么就分析分析吧，以下我是把电梯转化为类似互联网产品来做的分析， 完全是个人想法,一定有非常多欠缺。 后端服务组件和客户端分离(Client-Server/MVC) 首先其实对把一个电梯分成不同的组件： 驱动服务: 可以使电梯上下行(后台服务) 门: 开门关门(后台服务) 电梯操作面板: 人机界面,担当用户和电梯的一个中间人作用,将用户操作转化为指令来控制电梯 (app/web page) (如果简单的话可能操作命令转换就都在这个地方了，如果复杂可能还有一个控制系统层) 指令控制系统(调度系统,监听器或者Queue) 呼叫监控系统:(可以暂时不考虑) 这里就先考虑简单的情况，电梯操作面板模块之内将操作转换成指令给电梯的驱动和门服务 逐个组件来考虑用例 驱动服务可能包含的功能点有如下: 上行, 但是上行有极限位置(可配置)，按照指定步进数量上行 中途等待 步进距离(一层距离)可以配置 下行,下行位置(可配置)，按照指定步进数量下行 承载重量 可靠性监测，使用寿命监测 故障监测 这里注意如果测试电梯产品和测试指定某个大楼的电梯,测试用例的设计考虑点是稍有不同的，如果是电梯产品他就有电梯的配置项需要测试， 如果是测试制定电梯,那么配置项就可以忽略了，配置的就是你目前的配置。 门服务 关于门的服务可能会想到的是: 开门 关门 可靠性 对于开门这个功能的测试用例测试可以围绕: 接收到开门指令开门并且只做开门 在电梯运动过程中接收到开门指令不开门 接收不到开门指令则不开门 开门指令被中断 开门接到后的进行开门的响应时间 关门是类似，但是关门需要考虑超重情况下不能关门. 可靠性考虑多少次开门关门之后开门关门的机械组件才失效 电梯操作面板 操作面板这块实际上分为界面控件状态改变和指令转换两大块,在通过操作操作面板按钮后，同时 改变按钮状态以及发送正确指令,而指令处理这块就可 - 门开关按钮, 开关有效,开关无效 - 楼层按钮，启用,取消，灯亮，灯关 - 电梯上下调度, 多个按钮被按下之后,结合电梯自己所在位置决定运行方案 - 易用性等，因为是见人的地方，所有就有usability 测试 指令控制系统 指令控制系统可以认为根据电梯运行时的上下文,调度电梯运行的一个模块,这里面应该是根据某种规则 发出实际控制电梯的信号，具体什么的规则其实很难断定。 扩展到多个电梯的调度测试 有可能会有多个电梯的调度，同样也是需要一套规则再来进行测试的 这个文章写的有点粗糙,主要凭空去想这些case太伤脑袋，但是总体而言个人认为这是一个考虑问题的方向，同时个人觉得在一个短时间内 针对这样一个系统说写出很多测试用例，其实也就是呵呵了。 也许有更好的方法来总结这样的测试,可能类似于探索性测试之类的，希望有人能够指正。 同时我们也可以看到设计测试用例要包含多少东西,测试需要了解: 产品需求(没有需要推测:)) 功能 可靠性 性能 扩展性 可用性 从high level看可能还有更多,这些一个人都可以搞定的话,这个人还是人吗?而在实际的工作中这些会有都 多少人都进行相关类型的测试？不说进行这样的测试，估计连衡量这些测试的优先级都不会,有人说的头头 是道，可是真的有多少实践呢？ 生活可能就是这样的,说的天花乱坠的,可能其实都是别人的经验,如果真的自己动手做的时候,就说需要找人做.</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/automation/2015-09-24-page-factory/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/4.jpg);"></div>
    <div class="detail">
      <time>Thu, Sep 24, 2015</time>
      <h2 class="title">Page Factory in Selenium</h2>
      <div class="summary">本文主要用来分析Page Factory实现的原理以及一些扩展的可能性。 Page Factory 的例子 Selenium Page Factory Wiki 首先解释一下这个例子： 使用注解描述元素定位 使用 PageFactory.initElements(driver, page); public class GoogleSearchPage { // The element is now looked up using the name attribute @FindBy(how = How.NAME, using = &quot;q&quot;) private WebElement searchBox; public void searchFor(String text) { // We continue using the element just as before searchBox.sendKeys(text); searchBox.submit(); } public void searchFor(String text) { GoogleSearchPage page＝ PageFactory.initElements(new ChromeDriver(), GoogleSearchPage.class); } } 以上一个显而易见的好处就是减少了查找元素的代码量，比如类似于一下的代码： driver.findElement(By.id(&quot;q&quot;)) 但是只有这样的好处吗？我们先从分析Selenium</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/automation/2015-09-24-testng-simple-report/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/5.jpg);"></div>
    <div class="detail">
      <time>Thu, Sep 24, 2015</time>
      <h2 class="title">TestNG 报告定制最简单的原理</h2>
      <div class="summary">如果需要定制TestNG的测试报告,可以先想一下首先需要什么的数据,其实最简单的数据就是测试用例成功失败的数据, 那么实际上TestNG提供了ITestListener的接口可以让你获取这些测试数据. 同时IReporter 接口可以让用户在调用最后自己生成测试报告. 所以其实只要用一个类实现ITestListener,IReporter就可以了. ITestListener,IReporter实现 一下是我一个最简单的实现, 实际上TestNG开放出来的这些监听器,主要是让你可以获取TestNG 测试容器中运行测试的数据,上下文. 关于代码里面的ITestResult, xmlSuites,suites 可以自行查找 public class TestNGSimpleReport implements ITestListener, IReporter { private List&lt;String&gt; testPassed = Lists.newArrayList(); private List&lt;String&gt; testFailed = Lists.newArrayList(); private List&lt;String&gt; testSkipped = Lists.newArrayList(); @Override public void generateReport(List&lt;XmlSuite&gt; xmlSuites, List&lt;ISuite&gt; suites, String outputDirectory) { System.out.println(&quot;Passed Case: &quot; + testPassed.size()); System.out.println(&quot;testFailed Case: &quot; + testFailed.size()); System.out.println(&quot;testSkipped Case: &quot; + testSkipped.size()); for (String passed : testPassed) { System.out.println(&quot;passed case:&quot; + passed); } for (String passed : testFailed) { System.out.println(&quot;failed case:&quot; + passed); } for (String passed : testSkipped) { System.out.println(&quot;skipped case:&quot; + passed); } } @Override public void onTestStart(ITestResult result) { } @Override public void onTestSuccess(ITestResult result) { testPassed.add(result.getMethod().getMethodName()); } @Override public void onTestFailure(ITestResult result) { testFailed.add(result.getMethod().getMethodName()); } @Override public void onTestSkipped(ITestResult result) { testSkipped.add(result.getMethod().getMethodName()); } @Override public void onTestFailedButWithinSuccessPercentage(ITestResult result) { } @Override public void onStart(ITestContext context) { } @Override public void onFinish(ITestContext context) { } } 编写TestNG的测试 public class TestNGTest { @Test public void test_pass(){ System.out.println(&quot;passed_case&quot;); } @Test public void test_failed(){ Assert.assertTrue(false); } @Test public void test_pass_2(){ System.out.println(&quot;passed_case_2&quot;); } } 将监听器放入Testng.xml文件 &lt;suite name=&quot;SimpleReport&quot;&gt; &lt;listeners&gt; &lt;listener class-name=&quot;com.hedwig.testng.TestNGSimpleReport&quot;/&gt; &lt;/listeners&gt; &lt;test verbose=&quot;1&quot; name=&quot;simple test&quot; &gt; &lt;classes&gt; &lt;class name=&quot;com.hedwig.testng.TestNGTest&quot;/&gt; &lt;/classes&gt; &lt;/test&gt; &lt;/suite&gt; 运行Testng.xml文件,查看结果 结果如下,是不是很简单?</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2015-05-16-svn_reviewboard_python/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/22.jpg);"></div>
    <div class="detail">
      <time>Sat, May 16, 2015</time>
      <h2 class="title">Python完成简单的SVN Reviewboard Precommit的客户端</h2>
      <div class="summary">最近公司需要使用review board进行代码pre-commit review(pre-commit:正式提交前review)，而公司的现状是： 1. 使用SVN作为代码版本管理工具 2. 开发工具有eclipse，idea 3. MAC 和windows 机器居多 考虑到开发eclipse和idea插件，连接review board我一个人无法完成，同时能力也不够来开发这两种插件， 所以就准备python写一个命令行工具，期间研究了一下taobao review board的插件，感觉有点复杂，这个也是 使用python来些命令行工具的一个理由,也考虑过使用node-webkit来写个客户端，不过由于时间上的限制也就先放弃了 实现 实现过程中，使用到主要的包和工具是： RBTools,review board 自带的工具，但是支持中文能力让人有点困惑 python，cmd 包(python自带)，requests包使用 pip install requests 安装 ConEmuPack(windows CMD的替代),主要为了支持window系统 SVN 最后实现了如下功能 - 选择更改的文件，提交Review Board 作为pre-commit review - 根据review request id 提交代码到SVN - python直接操作svn命令,可以通过简单的命令就提交代码(由于使用习惯的问题,个人觉得命令行比UI效率更高) svn命令有个问题就是如果操作delete或者add这种的话,如果文件没有直接放到svn work copy的话,提交需要两步操作, 而这个工具也解决了这个问题 Review Board 功能介绍 review board 是进行代码review的一个工具，目前公司主要用来做pre-commit的review，在review board针对pre-主要有如下概念： review request draft, draft里面包含了differ文件，描述，review的人等等 review request，在这个review request上面review review完毕，才可以提交代码 安装和配置 1.安装Python 和Requests包 下载安装最新版本的Python，确保在命令行中可以执行Python命令，如果打开命令行工具，执行python -v 失败，需要在环境变量中设置Python的执行路径 安装Python完成之后，在命令行中执行 pip install requests 安装requests包到全局。MAC可能需要使用: sudo pip install requests 2.</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/api/2015-01-24-api_as_document_tool/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/1.jpg);"></div>
    <div class="detail">
      <time>Sat, Jan 24, 2015</time>
      <h2 class="title">API Document Generation Tools</h2>
      <div class="summary">some source of Restful API documents generation: apiary docco dexy swagger restunited jsondoc</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2014-11-24-python_mirror/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/13.jpg);"></div>
    <div class="detail">
      <time>Mon, Nov 24, 2014</time>
      <h2 class="title">Python PIP mirror设置</h2>
      <div class="summary">使用默认的pip mirror速度实在太慢了，所以使用douban的pypi镜像.如何使用呢？很简单，以下几步： - 修改~/.pip/pip.conf 文件，将index_url改成douban镜像地址:http://pypi.douban.com/simple [global] index-url=http://pypi.douban.com/simple timeout = 30 require-virtualenv = false download-cache = /tmp 当然记得把require-virtualenv 值改为false 关闭终端，重新使用pip命令就可以使用douban镜像了，速度超快</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2014-11-24-virtual_env/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/21.jpg);"></div>
    <div class="detail">
      <time>Mon, Nov 24, 2014</time>
      <h2 class="title">Python virtualenv in Mac</h2>
      <div class="summary">virtualenv是一个创建python虚拟环境的工具,主要的解决的问题是,让在一个干净的Python环境中开发,不需要被不同的python 安装包烦恼,python3中实际已经内置了venv的,可以不使用virtualenv,以下是简要说明以下安装使用方法: ps: 关于Python3和Python2很有可能在同一台机器上都有安装,所以注意python命令对应的是那个版本.have fun :) Python3 in Mac python3 -m venv todo_mvc Done &hellip;&hellip;&hellip;. Python2 in Mac Install virtualenv in Mac sudo pip install virtualenv 此前确认pip已经安装了 Install virtualenvwapper in Mac sudo pip install virtualenvwapper 创建python开发环境 直接使用virtualevn 创建目录 mkdir python_test virtualenv python_test 使用创建好的目录作为开发环境 source /bin/activate 启动开发环境之后，可以使用pip安装需要的python依赖库，如selenium pip install selenium 如果安装好了virtualenvwapper的话，可以使用如下命令使用开发环境： mkvirtualenv python_test 退出： deactivate 切换： workon python-test 删除 rm virtualenv python-test</div>
    </div>
  </a>
</article>

          </div>
          
          <div class="col-sm-4">
            <article class="li">
  <a href="http://simonpatrick.github.io/posts/shell/2014-10-24-shell_for_update_all_git_repo/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/17.jpg);"></div>
    <div class="detail">
      <time>Fri, Oct 24, 2014</time>
      <h2 class="title">Shell Script for updating all git repo</h2>
      <div class="summary">更新一个目录下所有的git repository的shell 脚本 最近感觉需要了解一些shell脚本的使用，刚好本地上面的一个文件夹中有一些github上面的代码仓库，所以刚好学着用shell来更新各个代码仓库 #! /bin/bash for file in ./* do if test -d $file then echo $file is directory cd $file a=$(pwd) echo $a git pull cd .. b=$(pwd) echo $b fi done</div>
    </div>
  </a>
</article>

          </div>
          
        </div>
      </div>

      
<nav class="paging">
  
  <a href="/posts/page/5" class="left" rel="prev">PREV</a>
  

  
  <a href="/posts/page/7" class="right" rel="next">NEXT</a>
  
</nav>



    </div>

    <div class="col-sm-3">
      <aside class="site">

  

  

  <div class="section">
    <header><div class="title">LatestPosts</div></header>
    <div class="content">
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2016-02-28-python_oop_attributes/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/7.jpg);"></div>
    <div class="detail">
      <time>Sun, Feb 28, 2016</time>
      <h2 class="title">Python 面向对象，以及访问对象属性基础</h2>
      <div class="summary">在前面的Zabbix API调用中我们看到了python的__getattr__的妙用，下面就探索一下这里面的道理,所以就聊聊python面向对象的基础知识. Python 面向对象 说到面向对象，就会说到类(class)，对象(object),那么什么是Class，Object呢？ Object： Objects have states and behaviors. Example: A dog has states - color, name, breed as well as behaviors -wagging, barking, eating. An object is an instance of a class. Class: A class can be defined as a template/blue print that describes the behaviors/states that object of its type support. 那么综合起来，class就是用来描述一系列对象的一个模版，抽象出了共同的东西(class)，object就是具体的某种情况下的一个例子(instance) 面向对象有如下基础概念： Polymorphism Inheritance Encapsulation Abstraction Classes Objects Instance Method Message Parsing Python Class and Object 的使用 看下例： - class Dog 定义了一个类 - __init__ 构造这个类的方法，就是创建出一个Dog的对象是通过这个方法 - name, 类的一个属性;eat(),也可以看成是类的一个属性，实际上它是一个dog的一个行为(behavior) - dog = Dog() 是创建了一个Dog(class)的新的的对象(object), 按照我们上面说的，dog是类Dog(class)的一个实例(instance) class Dog: def __init__(self): self.name='dog' def eat(): print('eating......') dog = Dog() print(dog.name) Python 对象的创建 参考上例，分别来说明对象的创建，访问.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2016-02-28-simple_word_count/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/18.jpg);"></div>
    <div class="detail">
      <time>Sun, Feb 28, 2016</time>
      <h2 class="title">Simple Word Counter</h2>
      <div class="summary">有时测试的面试题中会考点编程的内容，比如统计字符串中的相同字符数量，具体题目如下： 给定一个字符串，如MIssissippi 计算字符串中每一个不同字符出现的数量 Python 的解法 letter_count={} for letter in 'MIssissippi': letter[letter]=letter_count.get(letter,0)+1 print(letter_count) 运行结果： {'s': 4, 'M': 1, 'i': 3, 'I': 1, 'p': 2} Java 的解法 JAVA 8 中给Map加入了getOrDefault的方法，下面就分别介绍一下JAVA8之前和使用JAVA8的方法： JAVA8 之前： public Map&lt;String,Integer&gt; countCharacters(String source){ char[] chars = source.toCharArray(); Map&lt;String,Integer&gt; result = new HashMap&lt;&gt;(); for (char aChar : chars) { Integer existing_counter = result.get(String.valueOf(aChar)); int counter = existing_counter==null?0:existing_counter; result.put(String.valueOf(aChar),counter+1); } return result; } JAVA8 解法 public Map&lt;String,Integer&gt; countCharacters_JAVA8(String source){ char[] chars</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2016-02-26-call_zabbix_api/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/10.jpg);"></div>
    <div class="detail">
      <time>Fri, Feb 26, 2016</time>
      <h2 class="title">Python 访问Zabbix API</h2>
      <div class="summary">Zabbix API 访问 准备使用Python来访问一下Zabbix，首先当然阅读一下Zabbix的API Manual,抛开什么json rpc这样的问题之外，zabbix的API的分类还是很工整的，所以看起来比较舒服，在一定了解了zabbix基础之后，基本上就可以上手来写了，网上查了一下，找个一个python zabbix的调用的一个客户段代码，感觉不错，就开始行动了。 Zabbix API 客户端代码的实现 Zabbix API的主要的两个参数其实是method，params，params基本上就可以看作一些可变的参数，其实就是一个json或者map， 对于method来说，一般就是 resource.action 这种方式，所以python客户端使用重写了一个getattr来做,返回一个可以访问不同资源名称的客户端,具体的代码如下： class ZabbixClient: &quot;&quot;&quot; Generic Zabbix API Client - login - get auth &quot;&quot;&quot; globale_header = { &quot;Content-Type&quot;: &quot;application/json-rpc&quot; } def __init__(self, session=None, timeout=None): self.user_name, self.default_user_name = '1', '1' self.password, self.default_password = '123456', '123456' self.zabbix_api_url = 'http://{0}/api_jsonrpc.php'.format('abcd.http') if session: self.session = session else: self.session = requests.session() self.session.headers.update({ 'Content-Type': 'application/json-rpc', 'User-Agent': 'python-zabbix-client', 'Cache-Control': 'no-cache' }) self.auth = '' self.id = 0 self.timeout = timeout logger.info('JSON-RPC Server EndPoint: %s', self.zabbix_api_url) def login_in(self, user_name=None, password=None): &quot;&quot;&quot; login with given user_name and password, if None, use default user :param user_name: :param password: :return: result,auth key &quot;&quot;&quot; if user_name: self.user_name = user_name if password: self.password = password self.auth = self.user.login(user=self.user_name, password=self.password) def api_version(self): return self.apiinfo.version() # def confimport(self, format='', source='', rules=''): # &quot;&quot;&quot;Alias for configuration.import because it clashes with # Python's import reserved keyword&quot;&quot;&quot; # # return self.do_request( # method=&quot;configuration.import&quot;, # params={&quot;format&quot;: format, &quot;source&quot;: source, &quot;rules&quot;: rules} # )['result'] def do_request(self, method, params=None): request_json = { 'jsonrpc': '2.0', 'method': method, 'params': params or {}, 'id': self.id, } if method != 'apiinfo.version' and self.auth: request_json['auth'] = self.auth logger.debug(&quot;sending: %s&quot;, json.dumps(request_json, indent=4, separators=(',', ':'))) response = self.session.post( self.zabbix_api_url, data=json.dumps(request_json), timeout=self.timeout ) logger.debug(&quot;Response Code : %s&quot;, str(response.status_code)) response.raise_for_status() if not len(response.text): raise ZabbixAPIException(&quot;没有返回值&quot;) try: response_json = json.loads(response.text) except ValueError: raise ZabbixAPIException(&quot;不能解析JSON %s&quot; % response.text) logger.debug(&quot;sending: %s&quot;, json.dumps(request_json, indent=4, separators=(',', ':'))) self.id += 1 if 'error' in response_json: if 'data' not in response_json['error']: response_json['error']['data'] = 'No Data' msg = &quot;Error {code}: {message},{data}&quot;.format( code=response_json['error']['code'], message=response_json['error']['message'], data=response_json['error']['data'] ) raise ZabbixAPIException(msg, response_json['error']['code']) return response_json def __getattr__(self, item): &quot;&quot;&quot; auto create Zabbix API Client :param item: :return: &quot;&quot;&quot; return ZabbixAPIObjectClass(item, self) class ZabbixAPIObjectClass(object): def __init__(self, name, parent): self.name = name self.parent = parent def __getattr__(self, item): &quot;&quot;&quot; dynamic create a method (get,create,update,delete) :param item: :return: &quot;&quot;&quot; def fn(*args, **kwargs): if args and kwargs: raise TypeError('Found Both args and kwargs') return self.parent.do_request('{0}.{1}'.format(self.name, item), args or kwargs)['result'] return fn 基本上一个文件就搞定了，不过这个基本上参考了网上的一个代码实现的，这里使用getattr这种方式可以非常简洁的处理了这种请求非常类似的情况，这也是python的魅力吧.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2016-02-26-zabbix_monitoring/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/25.jpg);"></div>
    <div class="detail">
      <time>Fri, Feb 26, 2016</time>
      <h2 class="title">zabbix 基础</h2>
      <div class="summary">抽空花了1个小时看了一下Zabbix的界面和简单的手册，了解了一下Zabbix的基础知识，下面是一个小小的记录,后面就写一些Python的脚本来直接调用Zabbix的API在进行一些自动化的操作. Zabbix 基础 Zabbix 是一个开源的监控系统，由于需要帮助运维写一些调用ZABBIX API的代码，所以就开始了解一下ZABBIX的一些基本概念. 简单的看了一下Zabbix的一个手册，大致了解Zabbix监控的一些概念，以下是Zabbix中比较重要的概念或者可以认为一些抽象的实体资源: Configuration HOST HOST GROUP Templates Monitor Application Items: keys Triggers Graphs Configuration:HOST HOST 就是Zabbix监控的对象，创建HOST可以通过一些预先定义好的模版来实现. 以Linux Group来说的话，HOST可能还有以下的一些属性： Agent Interface SNMP Interface JMX Interface IPMI Interface Monitory proxy Status Configuration: HOST GROUP 创建HOST的同时可以创建一个HOST GROUP，HOST GROUP实际上就是不同的HOST组合起来成一组. Configuration: Templates Templates 就是一些HOST的模版，相似的HOST可以通过模版继承，组合的方式创建 Monitor 从监控的层级来看，监控HOST的层级逻辑是： HOSTGROUP: HOST GROUP是可以认为不同HOST的容器 HOST: 监控的实体,监控的实体实际上有不同的监控模版组合而成 以下的APPLICATION，ITEM,TRIGGER,Graph 其实都是继承了模版的： APPLICATION,可以认为是一组监控的内容 ITEM: item就是监控的具体的一个数值,比如cl Loaded Class Count他的key是jmx[&quot;java.lang:type=ClassLoading&quot;,LoadedClassCount] 这个ITEM就是具体监控LoadedClass数目的一项，那么多个项目就可以组合成一个Application，ITEM 其实可以认为是采样数据的一个项 一个Template可以通过多个Application来组合而成，一个Application可以由Items来组合而成，一个HOST包含有多个监控的Template，一个HOST Group可以有多个HOST. 关于TEMPLATE的继承关系是： HOST 继承HOST GROUP的TEMPLATE Graph： 图表 Trigger： 触发器 这两个可以设置到模版级别的 Monitor: Application Application 可以认为是监控的一个大的项目，里面可能包括了不同的采样项目(item) create Application，可以参考一下API文档就可以 Monitor: Item Item创建首先需要创建一个key(在创建KEY之前可以先创建一个TEMPLATE)，key 相当于需要监控什么，如何设置？ - 监控客户端设置, 在zabbix_agentd.conf中需要添加UserParameter grep -v '#' /etc/zabbix/zabbix_agentd.conf|grep -v &quot;^$&quot; export UserParameter=&lt;key_name&gt;,&lt;shell_command&gt; &gt;&gt; &lt;configure_file_location&gt; ITEM的设置，可以设置ITEM的类型，同时使用一些表达是来完成需要的采样内容的设置 Graphs graph 就是图标，那么很明显，一个graph有x,y 轴，x轴一般总是时间序列，另外一个轴对应不同的item（采样项目），同时又一些graph的类型选择，以及图表大小的设置 Triggers Trigger 就是一个触发器，对于单独的一个item来说，如果设置了一些阀值,那么如果超过这个阀值，那么就会报警了.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/performance/2016-02-22-mobile_perf_testing/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/10.jpg);"></div>
    <div class="detail">
      <time>Mon, Feb 22, 2016</time>
      <h2 class="title">Mobile 性能测试关键点</h2>
      <div class="summary">移动端性能测试的一些关键点 阅读了一些人的PPT，再这里记录一些移动端性能测试的一些关键点，每个关键点会在后续润色，细化. 移动端性能测试的方方面面 Android Monkey Memory Usage: /system/build.prop dalvik.vm.heapstartsize=8m # 堆分配的初始大小 dalvik.vm.heapgrowthlimit=64m adb shell procrank DDMS adb shell top 启动性能(首次，多次) 流量 应用占用量，cachesize，datasize，codesize 电量 CPU: active, idel memory leak, hprof, ddms dump hprof GPU 过度绘制 1.蓝色1x过度绘制 2.绿色2x过度绘制 3.淡红色3x过度绘制 4.红色超过4x过度绘制 gfxinfo systrace traceview tracer for OpenGL ES IOS instruments api business flow/scenario Performance Baseline comparison 颗粒度 Business flow Automation supporting poor network condition Security 混淆 加固 权限 本地数据库安全 ContentProvider共享 Activity注入风险 Tools Fiddler</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/performance/2016-02-22-jmeter_distribution_testing/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/6.jpg);"></div>
    <div class="detail">
      <time>Mon, Feb 22, 2016</time>
      <h2 class="title">JMETER 分布式测试</h2>
      <div class="summary">JMETER DISTRIBUTION TESTING JMETER有时进行压力测试时，生成压力的机器性能不够，不能产生足够的压力，不过JMETER可以使用多个系统进行JMETER的压力测试，来解决这个问题. 使用多系统测试时需要注意： 关闭防火墙 client in the same subnet 服务器在同一个字网 Jmeter可以访问服务器 JMeter是同一版本的 JMETER Distribution Setting Master Setup config remote address: jmeter.properties: remote_host=ip1,ip2,ip3&hellip;.. salve setup running jmeter-server.bat/.sh 文件 modify jmeter-server file to change the rmiregistry location start TESTING Additional Resources JMETER FAQ REMOTE-TEST</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/python/2016-02-13-python-yaml/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/4.jpg);"></div>
    <div class="detail">
      <time>Sat, Feb 13, 2016</time>
      <h2 class="title">python yaml 使用介绍</h2>
      <div class="summary">Python YAML 应用 YAML由于其可读性，越来越多的地方用它来做配置文件了来代替XML文件.下面就是用来介绍如何使用PYTHON来进行YAML的操作. 读取yaml或者写yaml，主要是用的是两个方法： load 读 dump 写 Read YAML to List 以下是读YAML 内容到python的list import yaml def load_list(): content = &quot;&quot;&quot; - config - domain - repository &quot;&quot;&quot; return yaml.load(content) Read YAML TO DICT load yaml to dict or a nest dict: import yaml def load_dict(): content = &quot;&quot;&quot; hello1: test hello2: test2 &quot;&quot;&quot; return yaml.load(content) def load_all_dict(): contents = &quot;&quot;&quot; hero: hp: 34 sp: 8 level: 4 orc: hp: 12 sp: 0 level: 2 &quot;&quot;&quot; return yaml.load(contents) print(load_dict()) print(load_all_dict()) Read YAML: auto type conversation yaml 对于格式要求比较严格的，： 后面注意加空格，同时python的原始类型通过load函数可以自动转化的.</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/microservice/2016-02-01-microservice-try/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/19.jpg);"></div>
    <div class="detail">
      <time>Mon, Feb 1, 2016</time>
      <h2 class="title">01-微服务框架－Springboot/Flask,Hello World</h2>
      <div class="summary">现在有很多的微服务框架，这里试用一下Java Springboot和Python的Flask. 本文分别试用SpringBoot和Flask完成了一个简单的Hello World服务来展示如何使用Springboot和Flask构建 一个简单的服务. 同时用AB进行了一个简单的压力测试。 SpringBoot Hello World Web Application Create a SpringBoot Application entry point add Beans into springboot startup life cycle 利用command-line runner的这个特性，再配合依赖注入，可以在应用程序启动时后首先引入一些依赖bean，例如data source、rpc服务或者其他模块等等，这些对象的初始化可以放在run方法中。不过，需要注意的是，在run方法中执行初始化动作的时候一旦遇到任何异常，都会使得应用程序停止运行，因此最好利用try/catch语句处理可能遇到的异常。 create HelloWorld Service All Codes for the simple hello world Service 以下代码的一些说明： - Web 应用的执行入口： main方法，里面的SpringApplication.run - StartupRunner 可以在SpringBoot Application启动过程中一些事情 - RestController注解表示了这个类是个Rest 风格的Controller pom.xml 中的唯一依赖，请指定版本或者parent指定为 &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; @SpringBootApplication @RestController public class HelloWorldEndPoint { public static void main(String[] args) { SpringApplication.run(HelloWorldEndPoint.class,args); } public static class StartupRunner implements CommandLineRunner{ protected final Logger logger = LoggerFactory.getLogger(StartupRunner.class); @Override public void run(String...</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/automation/2016-02-01-assertions/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/11.jpg);"></div>
    <div class="detail">
      <time>Mon, Feb 1, 2016</time>
      <h2 class="title">assertions</h2>
      <div class="summary">由于一直都在进行测试的工作，所以会关注Assertion的工具，发现两个不错的Assertion 第三方包，准备在实践中使用. 这两个分别是： - Google Truth(http://google.github.io/truth/usage/) - assertj 这个里面有很多自己想实现的比较的功能。一下是一些简单的试用的代码。 Google Truth 基础的验证： @Test public void test_basic_truth(){ Set&lt;String&gt; foo = Sets.newHashSet(); assertThat(foo).isEmpty(); assertThat(foo).isNotNull(); assertThat(5).isEqualTo(5L); assertThat(5L).isEqualTo(5); assert_().that(50).isEqualTo(50); assertThat(&quot;test&quot;).isEqualTo(&quot;test&quot;); assertThat(&quot;test&quot;).contains(&quot;te&quot;); } Collections/Maps的验证: @Test public void test_basic_truth_maps_collections(){ Set&lt;String&gt; foo = Sets.newHashSet(); assertThat(foo).isEmpty(); assertThat(foo).isNotNull(); foo.add(&quot;test&quot;); foo.add(&quot;test1&quot;); foo.add(&quot;test2&quot;); assertThat(foo).contains(&quot;test&quot;); assertThat(foo).containsAllOf(&quot;test&quot;, &quot;test1&quot;); assertThat(foo).containsExactly(&quot;test2&quot;, &quot;test&quot;, &quot;test1&quot;); assertThat(foo).containsNoneOf(&quot;test889&quot;, &quot;test10&quot;); Map&lt;String,String&gt; maps = Maps.newHashMap(); maps.put(&quot;test&quot;, &quot;test1&quot;); maps.put(&quot;test1&quot;, &quot;test2&quot;); maps.put(&quot;test2&quot;, &quot;test3&quot;); assertThat(maps).containsKey(&quot;test1&quot;); assertThat(maps).containsEntry(&quot;test1&quot;, &quot;test2&quot;); assertThat(maps).doesNotContainEntry(&quot;test0&quot;, &quot;test0&quot;); } assertj 基础的验证： @Test public</div>
    </div>
  </a>
</article>
</div>
      
      <div class="sm"><article class="li">
  <a href="http://simonpatrick.github.io/posts/automation/2016-01-27-web-dev/" class="clearfix">
    <div class="image" style="background-image: url(http://simonpatrick.github.io/images/10.jpg);"></div>
    <div class="detail">
      <time>Wed, Jan 27, 2016</time>
      <h2 class="title">WEB 开发的几个重点</h2>
      <div class="summary">再试用了Web 开发的框架之后，归纳一下大致的一个基础Web 开发需要的那些元素: URL Router，如何定义URL的访问 Request Handler/Response Handler， HTTP请求/返回的处理 如果组织这些Request Handler/Response Handler 如何定义全局/局部的URL拦截器 如何处理特殊的HTTP Header 如何处理Session/Cookie Database Access Layer/ORM， 数据操作CRUD 如何CRUD 如何进行分页，排序，filterByCriteria&hellip;..等数据库的常见操作 如何管理事务 如何定义，初始化数据库表 如何组织不同的数据库操作成不同的业务动作 详细，复杂的ORM操作可以不用太在意 Template Render,模版渲染 不同模版的试用 静态资源的访问 单元测试 断言，EXCEPTION检查 Mock 数据，内存数据库的使用 Web Application部署 不同环境的配置管理 不同语言的打包工具，如MAVEN，GRADLE 不同的构建工具,GULP 不同的服务器，NGINX，TOMCAT，JBOSS</div>
    </div>
  </a>
</article>
</div>
      
    </div>
  </div>

  
  <div class="section taxonomies">
    <header><div class="title">category</div></header>
    <div class="content">
      <a href="http://simonpatrick.github.io/categories/python">python</a><a href="http://simonpatrick.github.io/categories/refactoring">refactoring</a><a href="http://simonpatrick.github.io/categories/automation">automation</a><a href="http://simonpatrick.github.io/categories/shell">shell</a><a href="http://simonpatrick.github.io/categories/testing">testing</a><a href="http://simonpatrick.github.io/categories/microservice">microservice</a><a href="http://simonpatrick.github.io/categories/thoughts">thoughts</a><a href="http://simonpatrick.github.io/categories/java">java</a><a href="http://simonpatrick.github.io/categories/designpattern">designpattern</a><a href="http://simonpatrick.github.io/categories/truestories">truestories</a><a href="http://simonpatrick.github.io/categories/tools">tools</a><a href="http://simonpatrick.github.io/categories/performance">performance</a><a href="http://simonpatrick.github.io/categories/interview">interview</a><a href="http://simonpatrick.github.io/categories/ruby">ruby</a><a href="http://simonpatrick.github.io/categories/git">git</a><a href="http://simonpatrick.github.io/categories/js">js</a>
    </div>
  </div>
  
  <div class="section taxonomies">
    <header><div class="title">tag</div></header>
    <div class="content">
      <a href="http://simonpatrick.github.io/tags/python">python</a><a href="http://simonpatrick.github.io/tags/refactoring">refactoring</a><a href="http://simonpatrick.github.io/tags/shell">shell</a><a href="http://simonpatrick.github.io/tags/automation">automation</a><a href="http://simonpatrick.github.io/tags/testing">testing</a><a href="http://simonpatrick.github.io/tags/thoughts">thoughts</a><a href="http://simonpatrick.github.io/tags/microservice">microservice</a><a href="http://simonpatrick.github.io/tags/java">java</a><a href="http://simonpatrick.github.io/tags/truestories">truestories</a><a href="http://simonpatrick.github.io/tags/designpattern">designpattern</a><a href="http://simonpatrick.github.io/tags/tools">tools</a><a href="http://simonpatrick.github.io/tags/performance">performance</a><a href="http://simonpatrick.github.io/tags/interview">interview</a><a href="http://simonpatrick.github.io/tags/ruby">ruby</a><a href="http://simonpatrick.github.io/tags/js">js</a><a href="http://simonpatrick.github.io/tags/git">git</a>
    </div>
  </div>
  

</aside>

    </div>

  </div>
      </div>

    <footer class="site">
      <p>&copy; 2016 Colored Hedwig</p>
      <p>Powered by <a href="http://gohugo.io" target="_blank">Hugo</a>,</p>
      <p>Theme <a href="https://github.com/dim0627/hugo_theme_robust" target="_blank">Robust</a> designed by <a href="http://yet.unresolved.xyz" target="_blank">Daisuke Tsuji</a></p>
    </footer>

    <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    

  </body>
</html>

</div>
