<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tester&#39;s Farm</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="software tester also blogging">
<meta property="og:type" content="website">
<meta property="og:title" content="Tester's Farm">
<meta property="og:url" content="http://simonpatrick.github.io/index.html">
<meta property="og:site_name" content="Tester's Farm">
<meta property="og:description" content="software tester also blogging">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Tester's Farm">
<meta name="twitter:description" content="software tester also blogging">
  
    <link rel="alternative" href="/atom.xml" title="Tester&#39;s Farm" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.js"></script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img lazy-src="https://avatars2.githubusercontent.com/u/1321692?v=3&amp;u=866123e13e7009e772a0e904e278f81d84bf1fef&amp;s=140" class="js-avatar">
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Simon Patrick</a></h1>
		</hgroup>

		
		<p class="header-subtitle">software tester&#39;s playground，三言两语说技术</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/软件测试">随笔</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/simonpatrick" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Automation/" style="font-size: 10px;">Automation</a><a href="/tags/BDD/" style="font-size: 10px;">BDD</a><a href="/tags/CI/" style="font-size: 10px;">CI</a><a href="/tags/Database/" style="font-size: 10px;">Database</a><a href="/tags/FE/" style="font-size: 10px;">FE</a><a href="/tags/GIT/" style="font-size: 10px;">GIT</a><a href="/tags/MAC/" style="font-size: 10px;">MAC</a><a href="/tags/Mobile/" style="font-size: 10px;">Mobile</a><a href="/tags/Postgresql/" style="font-size: 10px;">Postgresql</a><a href="/tags/Python/" style="font-size: 10px;">Python</a><a href="/tags/SCM/" style="font-size: 12px;">SCM</a><a href="/tags/Static-Check/" style="font-size: 10px;">Static Check</a><a href="/tags/TIPS/" style="font-size: 10px;">TIPS</a><a href="/tags/Testing/" style="font-size: 18px;">Testing</a><a href="/tags/XPATH/" style="font-size: 10px;">XPATH</a><a href="/tags/agile-testing/" style="font-size: 10px;">agile testing</a><a href="/tags/agularjs/" style="font-size: 10px;">agularjs</a><a href="/tags/api/" style="font-size: 10px;">api</a><a href="/tags/devops/" style="font-size: 12px;">devops</a><a href="/tags/docker/" style="font-size: 10px;">docker</a><a href="/tags/documents/" style="font-size: 10px;">documents</a><a href="/tags/editor/" style="font-size: 12px;">editor</a><a href="/tags/guide/" style="font-size: 10px;">guide</a><a href="/tags/iOS/" style="font-size: 10px;">iOS</a><a href="/tags/java/" style="font-size: 10px;">java</a><a href="/tags/java-performance/" style="font-size: 10px;">java performance</a><a href="/tags/javadoc/" style="font-size: 10px;">javadoc</a><a href="/tags/javascript/" style="font-size: 14px;">javascript</a><a href="/tags/linux/" style="font-size: 20px;">linux</a><a href="/tags/markdown/" style="font-size: 10px;">markdown</a><a href="/tags/network/" style="font-size: 10px;">network</a><a href="/tags/nginx/" style="font-size: 10px;">nginx</a><a href="/tags/performance/" style="font-size: 10px;">performance</a><a href="/tags/pip/" style="font-size: 10px;">pip</a><a href="/tags/postgres/" style="font-size: 10px;">postgres</a><a href="/tags/python/" style="font-size: 16px;">python</a><a href="/tags/restful/" style="font-size: 10px;">restful</a><a href="/tags/restful-api/" style="font-size: 10px;">restful api</a><a href="/tags/security/" style="font-size: 10px;">security</a><a href="/tags/shell/" style="font-size: 18px;">shell</a><a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a><a href="/tags/tutorial/" style="font-size: 12px;">tutorial</a><a href="/tags/vim/" style="font-size: 12px;">vim</a><a href="/tags/vpn/" style="font-size: 10px;">vpn</a><a href="/tags/webservice/" style="font-size: 10px;">webservice</a><a href="/tags/性能测试，随手记/" style="font-size: 10px;">性能测试，随手记</a><a href="/tags/软件测试/" style="font-size: 10px;">软件测试</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Simon Patrick</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://avatars2.githubusercontent.com/u/1321692?v=3&amp;u=866123e13e7009e772a0e904e278f81d84bf1fef&amp;s=140" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Simon Patrick</h1>
			</hgroup>
			
			<p class="header-subtitle">software tester&#39;s playground，三言两语说技术</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/软件测试">随笔</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/simonpatrick" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-python/python-guide" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/05/python/python-guide/" class="article-date">
  	<time datetime="2015-07-05T02:05:44.000Z" itemprop="datePublished">2015-07-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/05/python/python-guide/">python_guide</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下是学习python guide时候的一些笔记，同时应该是满足所有的编程语言的。</p>
<h2 id="1-_Writing_Great_Code">1. Writing Great Code</h2><ul>
<li>structuring your project</li>
<li>code style</li>
<li>reading great codes</li>
<li>documentation</li>
<li>testing your codes</li>
<li>logging</li>
<li>common gotchas</li>
</ul>
<h3 id="1-1_structuring_your_project">1.1 structuring your project</h3><p>不要小看了这个项目结构，好的结构可以让项目一目了然。好的项目结构可能就回答了以下几个问题：</p>
<ul>
<li>which function should go into which modules</li>
<li>how does the data flow through the project</li>
<li>which functions and features can be grouped together and isolated</li>
</ul>
<p>以下是一些不好的设计：</p>
<ul>
<li>不同的内容放在一起而相互影响</li>
<li>隐含的依赖，hidden coupling</li>
<li>全部变量和状态的滥用</li>
<li>spaghetti code and ravioli code</li>
</ul>
<p>对于python来说，处理这些组织代码的事情可以使用modules，package(<strong>init</strong>.py),还有一些重用的方法如：</p>
<ul>
<li><p>decorators</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># do something</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">  <span class="comment"># do something</span></span><br><span class="line">  <span class="keyword">return</span> func</span><br><span class="line"></span><br><span class="line"><span class="comment"># manually decorator</span></span><br><span class="line">foo = decorator(foo)</span><br><span class="line"></span><br><span class="line"><span class="decorator">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bar</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="comment"># Do something</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bar is decorated</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>dynamic typing<br>变量可以不是固定类型，Variables are not a segment of the computer’s memory where some value is written, they are ‘tags’ or ‘names’ pointing to objects.</p>
</li>
<li><p>mutable and immutable types</p>
</li>
</ul>
<p>mutable: list, dict<br>immutable: int</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">my_list[<span class="number">0</span>]=<span class="number">4</span></span><br><span class="line"><span class="keyword">print</span> my_list  <span class="comment"># the same list</span></span><br><span class="line"></span><br><span class="line">x = <span class="number">6</span></span><br><span class="line">x=x+<span class="number">1</span> <span class="comment"># the next x is another object</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">foo = <span class="string">'foo'</span></span><br><span class="line">bar = <span class="string">'bar'</span></span><br><span class="line">foobar = <span class="string">'%s%s'</span> % (foo, bar) <span class="comment"># It is OK</span></span><br><span class="line">foobar = <span class="string">'&#123;0&#125;&#123;1&#125;'</span>.format(foo, bar) <span class="comment"># It is better</span></span><br><span class="line">foobar = <span class="string">'&#123;foo&#125;&#123;bar&#125;'</span>.format(foo=foo, bar=bar) <span class="comment"># It is best</span></span><br></pre></td></tr></table></figure>
<h2 id="1-2_code_style">1.2 code style</h2><ul>
<li><p>Explicit code</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Bad</span></span><br><span class="line">￼<span class="function"><span class="keyword">def</span> <span class="title">make_complex</span><span class="params">(*args)</span>:</span></span><br><span class="line">  x, y = args</span><br><span class="line">  <span class="keyword">return</span> dict(**locals())</span><br><span class="line"></span><br><span class="line"><span class="comment"># good</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_complex</span><span class="params">(x,y)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="string">'x'</span>:x,‘y’：y&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>function arguments</p>
</li>
</ul>
<ul>
<li><p>positonal arguments</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">send(message, recipient)</span><br></pre></td></tr></table></figure>
</li>
<li><p>keywords arguments</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">send(message, to, cc=<span class="keyword">None</span>, bcc=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>arbitrary argument list</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">send(message, *args)</span><br></pre></td></tr></table></figure>
</li>
<li><p>arbitrary keyword argument dictionary</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">send(message, **args)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>Avoid the magical wand/all responsible users<br>The main convention for private properties and implementation details is to prefix all “internals” with an underscore.</li>
<li>return values<br>raising exception or return None/False</li>
<li>Idioms</li>
</ul>
<ul>
<li>unpacking<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index,item <span class="keyword">in</span> enumerate(some_list):</span><br><span class="line">  <span class="comment"># do something</span></span><br><span class="line"></span><br><span class="line">a,b=b,a</span><br><span class="line">a,(b,c)=<span class="number">1</span>,(<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># python3</span></span><br><span class="line">a,*rest=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b,*middle,c=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>create an ignored Variables</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">￼filename = <span class="string">'foobar.txt'</span></span><br><span class="line">basename, __, ext = filename.rpar</span><br></pre></td></tr></table></figure>
</li>
<li><p>PEP8</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pep8 optparse.py</span><br></pre></td></tr></table></figure>
</li>
<li><p>convertions</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># don't use has_key in dictionary</span></span><br><span class="line">d =&#123;<span class="string">'hello'</span>:<span class="string">'world'</span>&#125;</span><br><span class="line"><span class="keyword">print</span> d.get(<span class="string">'hello'</span>,<span class="string">'default_value'</span>)</span><br><span class="line"><span class="keyword">if</span> <span class="string">'hello'</span> <span class="keyword">in</span> d:</span><br><span class="line">  <span class="keyword">print</span> d[<span class="string">'hello'</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>short ways to manipulate lists</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bad</span></span><br><span class="line">a = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">b = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">  <span class="keyword">if</span> i &gt; <span class="number">4</span>: b.append(i)</span><br><span class="line"></span><br><span class="line"><span class="comment"># good</span></span><br><span class="line">a = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">b = [i <span class="keyword">for</span> i <span class="keyword">in</span> a <span class="keyword">if</span> i &gt; <span class="number">4</span>]</span><br><span class="line"><span class="comment"># Or:</span></span><br><span class="line">b = filter(<span class="keyword">lambda</span> x: x &gt; <span class="number">4</span>, a)</span><br><span class="line"></span><br><span class="line">a = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">a = [i + <span class="number">3</span> <span class="keyword">for</span> i <span class="keyword">in</span> a]</span><br><span class="line"><span class="comment"># Or:</span></span><br><span class="line">a = map(<span class="keyword">lambda</span> i: i + <span class="number">3</span>, a)</span><br><span class="line"></span><br><span class="line">a = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i, item <span class="keyword">in</span> enumerate(a):</span><br><span class="line">  <span class="keyword">print</span> i, item</span><br></pre></td></tr></table></figure>
</li>
<li><p>read from a file</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">￼<span class="keyword">with</span> open(<span class="string">'file.txt'</span>) <span class="keyword">as</span> f:</span><br><span class="line">  <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">      <span class="keyword">print</span> line</span><br></pre></td></tr></table></figure>
</li>
<li><p>line continuations</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># bad</span></span><br><span class="line">my_very_big_string = <span class="string">"""For a long time I used to go to bed early. Sometimes, \</span><br><span class="line">    when I had put out my candle, my eyes would close so quickly that I had not even \</span><br><span class="line">    time to say “I’m going to sleep.”"""</span></span><br><span class="line"><span class="keyword">from</span> some.deep.module.inside.a.module <span class="keyword">import</span> a_nice_function, another_nice_function,  yet_another_nice_function</span><br><span class="line"></span><br><span class="line"><span class="comment"># good</span></span><br><span class="line">my_very_big_string = (</span><br><span class="line"><span class="string">"For a long time I used to go to bed early. Sometimes, "</span></span><br><span class="line"><span class="string">"when I had put out my candle, my eyes would close so quickly "</span> <span class="string">"that I had not even time to say “I’m going to sleep.”"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="1-3_read_great_codes">1.3 read great codes</h2><ul>
<li>Howdoi Howdoi is a code search tool, written in Python.</li>
<li>Flask Flask is a microframework for Python based on Werkzeug and Jinja2. It’s intended for getting started very<br>quickly and was developed with best intentions in mind.</li>
<li>Werkzeug Werkzeug started as simple collection of various utilities for WSGI applications and has become one of the most advanced WSGI utility modules. It includes a powerful debugger, full-featured request and response objects, HTTP utilities to handle entity tags, cache control headers, HTTP dates, cookie handling, file uploads, a powerful URL routing system and a bunch of community-contributed addon modules.</li>
<li>Requests Requests is an Apache2 Licensed HTTP library, written in Python, for human beings.</li>
<li>Tablib Tablib is a format-agnostic tabular dataset library, written in Python.</li>
</ul>
<h2 id="1-4_ducomentation">1.4 ducomentation</h2><ul>
<li>readme</li>
<li>project documentation</li>
<li>api reference</li>
<li>tutorial</li>
<li>reStructuredText documentation</li>
<li>code documentation advice<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">￼<span class="function"><span class="keyword">def</span> <span class="title">square_and_rooter</span><span class="params">(x)</span>:</span></span><br><span class="line"><span class="string">"""Returns the square root of self times self."""</span></span><br><span class="line">  <span class="comment"># do something</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Do not use triple-quote strings to comment code. This is not a good practice.<br>PEP 257</p>
<h2 id="1-5_Testing_your_codes">1.5 Testing your codes</h2><ul>
<li>unittest/unittest2</li>
<li>doctest</li>
</ul>
<p>The doctest module searches for pieces of text that look like interactive Python sessions in docstrings, and then executes those sessions to verify that they work exactly as shown.<br>Doctests have a different use case than proper unit tests: they are usually less detailed and don’t catch special cases or obscure regression bugs. They are useful as an expressive documentation of the main use cases of a module and its components. However, doctests should run automatically each time the full test suite runs.</p>
<ul>
<li>pytest</li>
<li>nose</li>
<li>tox</li>
<li>mock</li>
</ul>
<h2 id="1-6_logging">1.6 logging</h2><ul>
<li>diagnositic logging</li>
<li>audit logging</li>
</ul>
<h2 id="1-7_common_gotchas">1.7 common gotchas</h2><ul>
<li><p>mutable  default arguments<br>default argumant is mutable, python的方法每次被访问时不是重新建立，所以一定要小心，除非你是exploit(user as intended)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append_to</span><span class="params">(element,to=[])</span>:</span></span><br><span class="line">  to.append(element)</span><br><span class="line">  <span class="keyword">return</span> to</span><br><span class="line"></span><br><span class="line"><span class="comment"># what you expected to happen</span></span><br><span class="line">my_list=append_to(<span class="number">12</span>)</span><br><span class="line"><span class="keyword">print</span> my_list</span><br><span class="line">my_list=append_to(<span class="number">42</span>)</span><br><span class="line"><span class="keyword">print</span> my_list</span><br><span class="line"></span><br><span class="line"><span class="comment"># your expected result:</span></span><br><span class="line">[<span class="number">12</span>]</span><br><span class="line">[<span class="number">42</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># but actual result:</span></span><br><span class="line">[<span class="number">12</span>]</span><br><span class="line">[<span class="number">12</span>,<span class="number">42</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># so</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append_to</span><span class="params">(element,to=None)</span>:</span></span><br><span class="line">  to.append(element)</span><br><span class="line">  <span class="keyword">return</span> to</span><br></pre></td></tr></table></figure>
</li>
<li><p>late binding closure</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_mulipliers</span><span class="params">()</span>:</span></span><br><span class="line">  <span class="keyword">return</span> [<span class="keyword">lambda</span> x : i * x <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> create_mulipliers():</span><br><span class="line">      <span class="keyword">print</span> n(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Python’s closures are late binding. This means that the values of variables used in closures are looked up at the time<br>the inner function is called.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/guide/">guide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/python/">python</a><a class="article-category-link" href="/categories/python/guide/">guide</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-postgresql" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/02/postgresql/" class="article-date">
  	<time datetime="2015-07-02T09:36:00.000Z" itemprop="datePublished">2015-07-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/02/postgresql/">postgresql</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="连接database">连接database</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">psql</span><br></pre></td></tr></table></figure>
<h2 id="创建数据库">创建数据库</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE dbname owner rolename;</span><br><span class="line">CREATE DATABASE dbname TEMPLATE template0;</span><br></pre></td></tr></table></figure>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">createdb dbname</span><br><span class="line">createdb -O rolename dbname</span><br><span class="line">createdb -T template0 dbname</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Database/">Database</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Postgresql/">Postgresql</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Database/">Database</a><a class="article-category-link" href="/categories/Database/Postgresql/">Postgresql</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-different-laguage-in-simple-sort" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/07/02/different-laguage-in-simple-sort/" class="article-date">
  	<time datetime="2015-07-02T06:53:15.000Z" itemprop="datePublished">2015-07-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/07/02/different-laguage-in-simple-sort/">different_laguage_in_simple_sort</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不同语言的排序</p>
<h2 id="Python">Python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">90</span>,<span class="number">12</span>]</span><br><span class="line">sorted(a)</span><br><span class="line">sorted(a,reverse=<span class="keyword">True</span>)</span><br><span class="line">a.sort()</span><br><span class="line">a.sort(reserve=<span class="keyword">True</span>)</span><br><span class="line"></span><br><span class="line">f = [<span class="string">'abcd'</span>,<span class="string">'CCCC'</span>]</span><br><span class="line">sorted(c,key=len)</span><br><span class="line">sorted(c,key=str.lower)</span><br><span class="line">sorted(c,key=lastchar)</span><br><span class="line"></span><br><span class="line">f = [&#123;<span class="string">'name'</span>:<span class="string">'abc'</span>,<span class="string">'age'</span>:<span class="number">20</span>&#125;,&#123;<span class="string">'name'</span>:<span class="string">'def'</span>,<span class="string">'age'</span>:<span class="number">30</span>&#125;]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">age</span><span class="params">(s)</span>:</span></span><br><span class="line">  <span class="keyword">return</span> s[<span class="string">'age'</span>]</span><br><span class="line"></span><br><span class="line">ff=sorted(f,key=age)</span><br><span class="line">f2=sorted(f,key=<span class="keyword">lambda</span> x:x[<span class="string">'age'</span>])</span><br></pre></td></tr></table></figure>
<h2 id="Ruby">Ruby</h2><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = [ <span class="string">"d"</span>, <span class="string">"a"</span>, <span class="string">"e"</span>, <span class="string">"c"</span>, <span class="string">"b"</span> ]</span><br><span class="line">a.sort                    <span class="comment">#=&gt; ["a", "b", "c", "d", "e"]</span></span><br><span class="line">a.sort &#123; |x,y| y &lt;=&gt; x &#125;  <span class="comment">#=&gt; ["e", "d", "c", "b", "a"]</span></span><br><span class="line">a.sort &#123; |x,y| x &lt;=&gt; <span class="constant">Y</span> &#125;  <span class="comment">#=&gt; ["a", "b", "c", "d", "e"]</span></span><br><span class="line"></span><br><span class="line">a = [ <span class="string">"d"</span>, <span class="string">"a"</span>, <span class="string">"e"</span>, <span class="string">"c"</span>, <span class="string">"b"</span> ]</span><br><span class="line">a.sort!                    <span class="comment">#=&gt; ["a", "b", "c", "d", "e"]</span></span><br><span class="line">a.sort! &#123; |x,y| y &lt;=&gt; x &#125;  <span class="comment">#=&gt; ["e", "d", "c", "b", "a"]</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-js/bower-instroduction" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/30/js/bower-instroduction/" class="article-date">
  	<time datetime="2015-06-30T11:31:02.000Z" itemprop="datePublished">2015-06-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/30/js/bower-instroduction/">Bower 介绍</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Bower是一个客户端技术的软件包管理器，<br>它可用于搜索、安装和卸载如JavaScript、HTML、CSS之类的网络资源。<br>其他一些建立在Bower基础之上的开发工具，如Yeoman和Grunt.</p>
<h2 id="Bower的好处">Bower的好处</h2><ul>
<li>方便安装开发中需要的第三方依赖，不用再去往常查找</li>
<li>脱机工具，下载下来的第三发依赖会存放在本地，类似于JAVA MAVEN的本地仓库(Local Repository)</li>
<li>方便的定义依赖关系</li>
<li>升级更加简单，只需要改变依赖包版本就可以了</li>
</ul>
<h2 id="Bower的使用">Bower的使用</h2><p>下面介绍Bower的使用，首先需要安装Bower,bower需要安装node/npm(如何安装就不介绍了)，然后使用npm安装就可以了</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -g 表示全局安装</span></span><br><span class="line">npm install -g bower</span><br></pre></td></tr></table></figure>
<p>使用bower help:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">bower <span class="built_in">help</span></span><br><span class="line">usage:</span><br><span class="line"></span><br><span class="line">    bower &lt;<span class="built_in">command</span>&gt; [&lt;args&gt;] [&lt;options&gt;]</span><br><span class="line">Commands:</span><br><span class="line"></span><br><span class="line">    cache                   Manage bower cache</span><br><span class="line">    <span class="built_in">help</span>                    Display <span class="built_in">help</span> information about Bower</span><br><span class="line">    home                    Opens a package homepage into your favorite browser</span><br><span class="line">    info                    Info of a particular package</span><br><span class="line">    init                    Interactively create a bower.json file</span><br><span class="line">    install                 Install a package locally</span><br><span class="line">    link                    Symlink a package folder</span><br><span class="line">    list                    List <span class="built_in">local</span> packages - and possible updates</span><br><span class="line">    login                   Authenticate with GitHub and store credentials</span><br><span class="line">    lookup                  Look up a package URL by name</span><br><span class="line">    prune                   Removes <span class="built_in">local</span> extraneous packages</span><br><span class="line">    register                Register a package</span><br><span class="line">    search                  Search <span class="keyword">for</span> a package by name</span><br><span class="line">    update                  Update a <span class="built_in">local</span> package</span><br><span class="line">    uninstall               Remove a <span class="built_in">local</span> package</span><br><span class="line">    unregister              Remove a package from the registry</span><br><span class="line">    version                 Bump a package version</span><br><span class="line">Options:</span><br><span class="line"></span><br><span class="line">    <span class="operator">-f</span>, --force             Makes various commands more forceful</span><br><span class="line">    -j, --json              Output consumable JSON</span><br><span class="line">    <span class="operator">-l</span>, --log-level         What level of logs to report</span><br><span class="line">    -o, --offline           Do not hit the network</span><br><span class="line">    -q, --quiet             Only output important information</span><br><span class="line">    <span class="operator">-s</span>, --silent            Do not output anything, besides errors</span><br><span class="line">    -V, --verbose           Makes output more verbose</span><br><span class="line">    --allow-root            Allows running commands as root</span><br><span class="line">    --version               Output Bower version</span><br><span class="line">    --no-color              Disable colors</span><br><span class="line">See <span class="string">'bower help &lt;command&gt;'</span> <span class="keyword">for</span> more information on a specific command.</span><br></pre></td></tr></table></figure>
<h3 id="Bower_安装第三方依赖">Bower 安装第三方依赖</h3><p>使用bower 安装第三方依赖很方便：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower install bootstrap</span><br></pre></td></tr></table></figure>
<p>bootstrap 就安装好了，默认情况下，bower会把第三方包放在当前目录相面的bower_components的目录</p>
<h3 id="查看bower安装的包">查看bower安装的包</h3><p>使用如下命令：<br><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower lsit</span><br></pre></td></tr></table></figure></p>
<h3 id="搜索bower_安装包">搜索bower 安装包</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower search angular</span><br></pre></td></tr></table></figure>
<h3 id="查看bower_包信息">查看bower 包信息</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower info bootstrap</span><br></pre></td></tr></table></figure>
<h3 id="卸载bower包">卸载bower包</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower uninstall bootstrap</span><br></pre></td></tr></table></figure>
<h3 id="bower-json文件的使用">bower.json文件的使用</h3><p>bower.json的作用是记录下个所有安装的包的记录，类似于JAVA MAVEN的pom文件<br>每次使用bower install/uninstall 命令都会相应的更新此文件</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-api-documents" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/29/api-documents/" class="article-date">
  	<time datetime="2015-06-29T10:24:22.000Z" itemprop="datePublished">2015-06-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/29/api-documents/">api_documents</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>some source of Restful  API documents generation:</p>
<ol>
<li><a href="https://apiary.io/" target="_blank" rel="external">apiary</a></li>
<li><a href="http://jashkenas.github.io/docco/" target="_blank" rel="external">docco</a></li>
<li><a href="http://www.dexy.it/" target="_blank" rel="external">dexy</a></li>
<li><a href="http://swagger.io/" target="_blank" rel="external">swagger</a></li>
<li><a href="http://restunited.com/" target="_blank" rel="external">restunited</a></li>
<li><a href="http://jsondoc.org/examples-flows.html" target="_blank" rel="external">jsondoc</a></li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/api/">api</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/documents/">documents</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/restful/">restful</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/api/">api</a><a class="article-category-link" href="/categories/api/document/">document</a><a class="article-category-link" href="/categories/api/document/restful/">restful</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-devops/docker-postgres" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/29/devops/docker-postgres/" class="article-date">
  	<time datetime="2015-06-29T10:05:10.000Z" itemprop="datePublished">2015-06-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/29/devops/docker-postgres/">docker_postgres</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-_安装Docker_的postgres镜像">1. 安装Docker 的postgres镜像</h2><h3 id="1-1_首先删除原有的docker镜像">1.1 首先删除原有的docker镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker rmi $(docker images -q)</span><br></pre></td></tr></table></figure>
<h3 id="1-2_然后安装postgres">1.2 然后安装postgres</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull postgres:latest</span><br></pre></td></tr></table></figure>
<h3 id="1-3_常见问题">1.3 常见问题</h3><p>如果下载被打断，然后再次docker pull 时会报如下面错误：</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Layer ... already being pulled <span class="keyword">by</span> another <span class="keyword">client</span>. Waiting.</span><br></pre></td></tr></table></figure>
<p>然后再使用如下命令就可以：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">boot2docker restart</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/postgres/">postgres</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/devops/">devops</a><a class="article-category-link" href="/categories/devops/docker/">docker</a><a class="article-category-link" href="/categories/devops/docker/postgres/">postgres</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-python/pypi-mirror-setting" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/28/python/pypi-mirror-setting/" class="article-date">
  	<time datetime="2015-06-28T10:08:16.000Z" itemprop="datePublished">2015-06-28</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/28/python/pypi-mirror-setting/">python 设置pypi 到douban</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>使用默认的pip mirror速度实在太慢了，所以使用douban的pypi镜像.如何使用呢？很简单，以下几步：</p>
<ul>
<li>修改~/.pip/pip.conf 文件，将index_url改成douban镜像地址:<a href="http://pypi.douban.com/simple" target="_blank" rel="external">http://pypi.douban.com/simple</a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">global</span>]</span><br><span class="line">index-url=http://pypi.douban.com/simple</span><br><span class="line">timeout = <span class="number">30</span></span><br><span class="line">require-virtualenv = false</span><br><span class="line">download-cache = /tmp</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>当然记得把require-virtualenv 值改为false</p>
<ul>
<li>关闭终端，重新使用pip命令就可以使用douban镜像了，速度超快</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/pip/">pip</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/python/">python</a><a class="article-category-link" href="/categories/python/pip/">pip</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-devops/找到被占用的都端口" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/25/devops/找到被占用的都端口/" class="article-date">
  	<time datetime="2015-06-25T03:16:43.000Z" itemprop="datePublished">2015-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/25/devops/找到被占用的都端口/">MAC找到被占用的都端口</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>有时在本机运行了某个应用，但是没有正常关闭这个应用，这是可以使用以下命令来查询：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i -P |grep -i <span class="string">"listen"</span></span><br></pre></td></tr></table></figure>
<p>在MAC下面,使用netstat -atupn无法使用，所以需要以上的命令，找到PID</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sudo netstat -atupn</span><br><span class="line">netstat: n: unknown or uninstrumented protocol</span><br><span class="line">  </span><br><span class="line">$ sudo netstat -atup</span><br><span class="line">netstat: option requires an argument -- p</span><br><span class="line">Usage:  netstat [-AaLlnW] [<span class="operator">-f</span> address_family | -p protocol]</span><br><span class="line">        netstat [-gilns] [<span class="operator">-f</span> address_family]</span><br><span class="line">        netstat -i | -I interface [-w <span class="built_in">wait</span>] [-abdgRt]</span><br><span class="line">        netstat <span class="operator">-s</span> [<span class="operator">-s</span>] [<span class="operator">-f</span> address_family | -p protocol] [-w <span class="built_in">wait</span>]</span><br><span class="line">        netstat -i | -I interface <span class="operator">-s</span> [<span class="operator">-f</span> address_family | -p protocol]</span><br><span class="line">        netstat -m [-m]</span><br><span class="line">        netstat -r [-Aaln] [<span class="operator">-f</span> address_family]</span><br><span class="line">        netstat -rs [<span class="operator">-s</span>]</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/network/">network</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/linux/">linux</a><a class="article-category-link" href="/categories/linux/network/">network</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-java/java-performance-notes" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/24/java/java-performance-notes/" class="article-date">
  	<time datetime="2015-06-24T15:20:10.000Z" itemprop="datePublished">2015-06-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/24/java/java-performance-notes/">java 性能笔记-01</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下是网络中看到的文章的笔记.<a href="http://www.importnew.com/16181.html" target="_blank" rel="external">原文</a></p>
<h1 id="从扩展来看JAVA应用的性能">从扩展来看JAVA应用的性能</h1><ul>
<li>scaling out, 可以水平扩展自己的应用，单机应用可以方便的扩展到支持上百万用户的访问；<br>理想情况下，保持应用无状态；如果存在状态可以在不同终端上处理，50-100ms可以接受的响应时间</li>
<li>scaling up，把所有计算都在同一台机器上处理</li>
</ul>
<h2 id="大O符号,算法优化">大O符号,算法优化</h2><ul>
<li>并行处理会吃光处理器资源。并行处理为批处理带来了极大的好处，但同时也是非同步服务器（如HTTP）的噩梦<br>例子，单线程的servlet</li>
<li>并行处理对算法复杂度没有影响</li>
<li>优化的金科玉律不外乎以下内容：<ul>
<li>良好的设计将会使优化变得更加容易。</li>
<li>过早的优化并不能解决多有的性能问题，但是不良的设计将会导致优化难度的增加。</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-performance/">java performance</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/java-performance/">java performance</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
    <article id="post-java/javadoc" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/06/23/java/javadoc/" class="article-date">
  	<time datetime="2015-06-23T02:27:15.000Z" itemprop="datePublished">2015-06-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/06/23/java/javadoc/">javadoc 基本使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>写了很多代码，写注释是必不可少的的.工作不是一个人的事情，需要很多的协作。不过期望所以都可以在注释中得到答案也是一个不切实际的目标，某种意义上代码是最好的注释，同时注释是不是能个更新在实际的过程中也是一个不是很确定的事情，尤其是在迭代周期很快的开发过程中。我个人比较同意写注释需要写出一下几点：</p>
<ul>
<li>代码的目的，解决什么问题，而不是去写很多注释说明如何实现</li>
<li>代码有没有一些和常识违背的用法</li>
<li>不是每一个方法都写注释，有些一看方法名字就知道了，也就无所谓了</li>
<li>关键代码一定要要保持注释是最新的</li>
<li>方法的修改之后和名字发生偏差了，一定要写注释</li>
</ul>
<h2 id="JAVA_DOC基本语法">JAVA DOC基本语法</h2><ol>
<li>@see:引用其它类的文档，相当于超链接，Javadoc会在其生成的HTML文件中，将@see标签链到其他的文档<br>@see classname<br>这样在生成的文档中会出现”See Also”的超链蛸。但是Javadoc不去检查你的超链接是否有效。 </li>
<li>{@link package.class#member label}<br>与@See的功能一样，只是用label作主超链接，而不是用”see also” </li>
<li>{@docRoot}：标签产生 到文档根目录的相对路径，用于文档树页面的显式超链接 </li>
<li>{@inheritDoc}:标签从当前这个类的最直接的基类中继承相关文档到当前的文档注释中。 </li>
<li>@version：使用方法为@version 2.2.1.2…<br>   2.2.1.2…是我们作的版本说明信息 </li>
<li>@author:使用方法为 @author PowerFedora powpro@hotmail.com<br>   也就是说我们可以在@author后加上作者名字，email等联系方式 </li>
<li>@since：这个标签允许你指定程序最早使用的版本。<br>   比如我们看JDK Document里的每个类最后都会说明从JDK哪个版本开始启用。 </li>
<li>@param：@param name 用于输入客户的姓名<br>   @param后面是方法的参数，以及相应的说明<br>   我们可以使用任意数量的此标签，每个参数都可以有这样一个标签 </li>
<li>@return this is description<br>   @return后面是描述返回值的含义，可以延续几行。 </li>
<li>@throws fully-qualified-class-name description<br>  fully-qualified-class-name为异常类的完整名字，<br>  而description告诉你为什么此异常会在方法中调用出现。 </li>
<li>@deprecated:用于指出一些旧特性已由改进的新特性所取代，建议用户不要再使用旧特性。 </li>
<li>@code </li>
<li>{@inheritDoc},继承文档</li>
<li>tage <pre>： 原始的样子</pre></li>
<li>@value 用来注释常量</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="javadoc">/**</span><br><span class="line"> * default value,the default value is &#123;@value&#125;</span><br><span class="line"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String NAME_SPACE=<span class="string">"_NS"</span></span><br></pre></td></tr></table></figure>
<h2 id="类属性表示方法：_package-class#member_label">类属性表示方法： package.class#member label</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">@see</span> package.class#member label【比较常用的一种格式】</span><br><span class="line">添加带可见文本label的链接，它指向Java语言中指定名字的文档。其中label是可选的，如果省略，则名字作为可见文本出现，而且嵌在&lt;code&gt;HTML标记中，当想要缩写可见文本或不同于名字的可见文本的时候，可以使用label。</span><br><span class="line"></span><br><span class="line">——package.class#member是Java语言中的任何有效名字——包名、类名、接口名、构造函数名、方法名或域名——除了用hash字符(#)取代成员名前面的点之外，如果该名字位于带文档的类中，则Javadoc将自动创建到它的链接，要创建到外部的引用链接，可使用-link选项，使用另外两种<span class="variable">@see</span>形式中的任何一种引用不属于引用类的名字的文档。</span><br><span class="line"></span><br><span class="line">——label是可选文本，它是链接的可见标签，label可包含空白，如果省略label，则将显示package.class.member，并相对于当前类和包适当缩短</span><br><span class="line"></span><br><span class="line">——空格是package.class#member和label之间的分界符，括号内的空格不表示标签的开始，因此在方法各参数之间可使用空格</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package.class#member的典型形式</span><br><span class="line"></span><br><span class="line">引用当前类的成员</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> #field</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> #<span class="function">method</span>(Type,Type,...)</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> #<span class="function">method</span>(Type argname,Type argname,...)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">引用当前包或导入包中的其他类</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> Class#field</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> Class#<span class="function">method</span>(Type,Type,...)</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> Class#<span class="function">method</span>(Type argname,Type argname,...)</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> Class</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">引用其他包（全限定）</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package.Class#field</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package.Class#<span class="function">method</span>(Type,Type,...)</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package.Class#<span class="function">method</span>(Type argname,Type argname,...)</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package.Class</span><br><span class="line"></span><br><span class="line"><span class="variable">@see</span> package简单说明一下：</span><br><span class="line"></span><br><span class="line">——第一套形式（没有类和包）将导致 Javadoc 仅搜索当前类层次。它将查找当前类或接口、其父类或超接口、或其包含类或接口的成员。它不会搜索当前包的其余部分或其他包（搜索步骤 <span class="number">4</span>-<span class="number">5</span>）。</span><br><span class="line"></span><br><span class="line">——如果任何方法或构造函数输入为不带括号的名字，例如 getValue，且如果没有具有相同名字的域，则 Javadoc 将正确创建到它的链接，但是将显示警告信息，提示添加括号和参数。如果该方法被重载，则 Javadoc 将链接到它搜索到的第一个未指定方法。</span><br><span class="line"></span><br><span class="line">——对于所有形式，内部类必须指定为 outer.inner，而不是简单的 inner。</span><br><span class="line"></span><br><span class="line">——如上所述，hash 字符（#）而不是点（.）用于分隔类和成员。这使 Javadoc 可正确解析，因为点还用于分隔类、内部类、包和子包。当 hash 字符（#）是第一个字符时，它是绝对不可少的。但是，在其他情况下，Javadoc 通常不严格，并允许在不产生歧义时使用点号，但是它将显示警告。</span><br></pre></td></tr></table></figure>
<h2 id="常用java_doc_关键字列表：">常用java doc 关键字列表：</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Tag	Introduced <span class="keyword">in</span> JDK/SDK</span><br><span class="line"><span class="property">@author</span>	<span class="number">1.0</span></span><br><span class="line">&#123;<span class="property">@code</span>&#125;	<span class="number">1.5</span></span><br><span class="line">&#123;<span class="property">@docRoot</span>&#125;	<span class="number">1.3</span></span><br><span class="line"><span class="property">@deprecated</span>	<span class="number">1.0</span></span><br><span class="line"><span class="property">@exception</span>	<span class="number">1.0</span></span><br><span class="line">&#123;<span class="property">@inheritDoc</span>&#125;	<span class="number">1.4</span></span><br><span class="line">&#123;<span class="property">@link</span>&#125;	<span class="number">1.2</span></span><br><span class="line">&#123;<span class="property">@linkplain</span>&#125;	<span class="number">1.4</span></span><br><span class="line">&#123;<span class="property">@literal</span>&#125;	<span class="number">1.5</span></span><br><span class="line"><span class="property">@param</span>	<span class="number">1.0</span></span><br><span class="line"><span class="property">@return</span>	<span class="number">1.0</span></span><br><span class="line"><span class="property">@see</span>	<span class="number">1.0</span></span><br><span class="line"><span class="property">@serial</span>	<span class="number">1.2</span></span><br><span class="line"><span class="property">@serialData</span>	<span class="number">1.2</span></span><br><span class="line"><span class="property">@serialField</span>	<span class="number">1.2</span></span><br><span class="line"><span class="property">@since</span>	<span class="number">1.1</span></span><br><span class="line"><span class="property">@throws</span>	<span class="number">1.2</span></span><br><span class="line">&#123;<span class="property">@value</span>&#125;	<span class="number">1.4</span></span><br><span class="line"><span class="property">@version</span>	<span class="number">1.0</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javadoc/">javadoc</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/java/">java</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>






  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2015 Simon Patrick
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/mobile.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>





<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



  </div>
</body>
</html>